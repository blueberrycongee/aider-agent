# Aider Agent 开发里程碑

## 总体规划

| 阶段 | 目标 | 预计时间 | 状态 |
|------|------|----------|------|
| M0 | 项目初始化 | 1 天 | ✅ 完成 |
| M1 | 基础流程跑通 | 3-5 天 | 🚧 进行中 |
| M2 | Issue 自动修复 | 5-7 天 | ⏳ 待开始 |
| M3 | 智能筛选 | 3-5 天 | ⏳ 待开始 |
| M4 | 批量处理 | 3-5 天 | ⏳ 待开始 |
| M5 | 完善 UI | 3-5 天 | ⏳ 待开始 |
| M6 | 发布 v1.0 | 2-3 天 | ⏳ 待开始 |

---

## M0: 项目初始化 ✅

### 完成内容
- [x] 项目结构搭建
- [x] 基础依赖配置
- [x] GitHub 客户端封装
- [x] Aider 封装器
- [x] 任务调度器
- [x] Web UI 框架
- [x] WebSocket 实时通信

---

## M1: 基础流程跑通 🚧

### 目标
**手动跑通完整流程：添加仓库 → 克隆 → 审查 → 查看结果**

### 任务清单

#### 1.1 修复和测试现有代码
- [ ] 测试仓库克隆功能
- [ ] 测试 Aider 审查功能
- [ ] 修复可能的 Bug
- [ ] 添加错误处理

#### 1.2 GitHub Token 集成
- [ ] 环境变量加载
- [ ] Token 验证接口
- [ ] 显示当前登录用户

#### 1.3 Issue 列表展示
- [ ] 获取仓库 Issues API
- [ ] UI 展示 Issue 列表
- [ ] Issue 详情查看

#### 1.4 基础数据持久化
- [ ] 任务列表保存到 JSON
- [ ] 重启后恢复状态

### 交付标准
- 能成功克隆任意公开仓库
- Aider 能审查代码并返回结果
- 能看到仓库的 Issue 列表

---

## M2: Issue 自动修复 ⏳

### 目标
**选择一个 Issue，让 Aider 自动修复并提交**

### 任务清单

#### 2.1 Issue 修复流程
- [ ] 选择 Issue 接口
- [ ] 构造修复 Prompt
- [ ] 调用 Aider 修复
- [ ] 捕获修复结果

#### 2.2 Git 操作
- [ ] 创建新分支
- [ ] 自动提交修改
- [ ] 推送到远程

#### 2.3 PR 创建
- [ ] Fork 原仓库（如需要）
- [ ] 创建 Pull Request
- [ ] 生成 PR 描述

#### 2.4 UI 更新
- [ ] Issue 修复按钮
- [ ] 修复进度显示
- [ ] PR 链接展示

### 交付标准
- 能修复一个简单的 typo Issue
- 能自动创建 PR
- 修复过程可视化

---

## M3: 智能筛选 ⏳

### 目标
**AI 评估 Issue 难度，自动选择最适合的 Issue**

### 任务清单

#### 3.1 Issue 难度评估
- [ ] 设计评估 Prompt
- [ ] 调用 LLM 评分 (1-5)
- [ ] 评估结果缓存

#### 3.2 筛选策略
- [ ] 标签过滤 (good-first-issue 等)
- [ ] 排除已认领的 Issue
- [ ] 排除讨论中的 Issue
- [ ] 文件影响范围分析

#### 3.3 优先级排序
- [ ] 综合评分算法
- [ ] 可配置的权重
- [ ] 排序结果展示

#### 3.4 自动选择
- [ ] 一键选择最佳 Issue
- [ ] 批量评估功能

### 交付标准
- 能给 Issue 打出难度分数
- 能自动推荐最适合修复的 Issue
- 筛选策略可配置

---

## M4: 批量处理 ⏳

### 目标
**同时处理多个仓库，并发执行任务**

### 任务清单

#### 4.1 批量导入
- [ ] 批量添加仓库 (多行输入)
- [ ] 从文件导入仓库列表
- [ ] URL 格式验证

#### 4.2 并发控制
- [ ] 线程池管理
- [ ] 最大并发数配置
- [ ] 任务队列实现

#### 4.3 批量操作
- [ ] 一键启动所有任务
- [ ] 暂停/恢复功能
- [ ] 取消任务

#### 4.4 进度总览
- [ ] 整体进度条
- [ ] 成功/失败统计
- [ ] 耗时统计

### 交付标准
- 能同时处理 5+ 个仓库
- 并发数可控
- 整体进度可视化

---

## M5: 完善 UI ⏳

### 目标
**提升用户体验，增加实用功能**

### 任务清单

#### 5.1 仪表盘
- [ ] 任务统计概览
- [ ] 成功率图表
- [ ] 历史记录

#### 5.2 仓库详情页
- [ ] 项目信息展示
- [ ] 代码结构可视化
- [ ] Issue 管理面板

#### 5.3 设置页面
- [ ] API Key 配置
- [ ] 模型选择
- [ ] 筛选策略配置

#### 5.4 体验优化
- [ ] 加载状态优化
- [ ] 错误提示优化
- [ ] 移动端适配

### 交付标准
- UI 美观易用
- 核心功能一目了然
- 配置灵活可调

---

## M6: 发布 v1.0 ⏳

### 目标
**发布首个可用版本**

### 任务清单

#### 6.1 文档完善
- [ ] 使用教程
- [ ] API 文档
- [ ] 常见问题

#### 6.2 测试
- [ ] 单元测试覆盖
- [ ] 集成测试
- [ ] 手动测试 checklist

#### 6.3 打包发布
- [ ] Docker 镜像
- [ ] PyPI 发布 (可选)
- [ ] GitHub Release

#### 6.4 宣传
- [ ] README 优化
- [ ] Demo 视频/GIF
- [ ] 社区分享

### 交付标准
- 文档完整
- 测试通过
- 一键部署可用

---

## 后续规划 (v2.0+)

### 功能增强
- [ ] 定时任务（每日自动扫描）
- [ ] 学习优化（根据 PR 合并率调整策略）
- [ ] 多人协作（团队共享）
- [ ] Webhook 集成

### 技术优化
- [ ] 数据库存储 (SQLite → PostgreSQL)
- [ ] 前端框架 (React/Vue)
- [ ] 容器化部署优化

---

## 当前焦点

### 🎯 下一步行动 (M1)

1. **立即**: 测试克隆功能是否正常
2. **今天**: 实现 GitHub Issue 获取并展示
3. **本周**: 完成 M1 所有任务

### 阻塞项
- 需要有效的 GitHub Token
- 需要有效的 OpenAI/Anthropic API Key
